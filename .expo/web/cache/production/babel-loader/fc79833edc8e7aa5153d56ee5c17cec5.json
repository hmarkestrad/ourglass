{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from'react';import moment from'moment';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Svg,{Path}from'react-native-svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Countdown=function(_React$Component){_inherits(Countdown,_React$Component);var _super=_createSuper(Countdown);function Countdown(){var _this;_classCallCheck(this,Countdown);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={seconds:undefined,days:undefined,hours:undefined,minutes:undefined};return _this;}_createClass(Countdown,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.interval=setInterval(function(){var _this2$props=_this2.props,timeTillDate=_this2$props.timeTillDate,timeFormat=_this2$props.timeFormat;var then=moment(timeTillDate,timeFormat);moment.locale('en');var now=moment();var countdown=moment(then-now);var seconds=countdown.format('ss');var minutes=countdown.format('mm');var hours=countdown.format('HH');var days=countdown.format('D');_this2.setState({days:days,hours:hours,minutes:minutes,seconds:seconds});},1000);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.interval){clearInterval(this.interval);}}},{key:\"render\",value:function render(){var _this$state=this.state,seconds=_this$state.seconds,days=_this$state.days,hours=_this$state.hours,minutes=_this$state.minutes;var secondsRadius=mapNumber(seconds,60,0,0,360);var minutesRadius=mapNumber(minutes,60,0,0,360);var hoursRadius=mapNumber(hours,24,0,0,360);var daysRadius=mapNumber(days,31,0,0,360);if(!seconds){return null;}if(!days){return null;}return _jsxs(View,{style:styles.countdownWrapper,children:[days&&_jsxs(View,{style:styles.countdownItem,children:[_jsx(SVGCircle,{radius:daysRadius}),_jsxs(Text,{style:styles.cardText,children:[days,\"d\"]})]}),hours&&_jsxs(View,{style:styles.countdownItem,children:[_jsx(SVGCircle,{radius:hoursRadius}),_jsxs(Text,{style:styles.cardText,children:[hours,\"h\"]})]}),minutes&&_jsxs(View,{style:styles.countdownItem,children:[_jsx(SVGCircle,{radius:minutesRadius}),_jsxs(Text,{style:styles.cardText,children:[minutes,\"m\"]})]}),seconds&&_jsxs(View,{style:styles.countdownItem,children:[_jsx(SVGCircle,{radius:secondsRadius}),_jsxs(Text,{style:styles.cardText,children:[seconds,\"s\"]})]})]});}}]);return Countdown;}(React.Component);export default Countdown;var SVGCircle=function SVGCircle(_ref){var radius=_ref.radius;return _jsx(Svg,{style:styles.countdownSvg,children:_jsx(Path,{fill:\"none\",stroke:\"white\",strokeWidth:\"4\",d:describeArc(50,50,28,0,radius)})});};function polarToCartesian(centerX,centerY,radius,angleInDegrees){var angleInRadians=(angleInDegrees-90)*Math.PI/180.0;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)};}function describeArc(x,y,radius,startAngle,endAngle){var start=polarToCartesian(x,y,radius,endAngle);var end=polarToCartesian(x,y,radius,startAngle);var largeArcFlag=endAngle-startAngle<=180?'0':'1';var d=['M',start.x,start.y,'A',radius,radius,0,largeArcFlag,0,end.x,end.y].join(' ');return d;}function mapNumber(number,in_min,in_max,out_min,out_max){return(number-in_min)*(out_max-out_min)/(in_max-in_min)+out_min;}var styles=StyleSheet.create({countdownSvg:{marginBottom:10,width:100,height:100,position:'absolute'},countdownWrapper:{flex:1,alignItems:'center',justifyContent:'around',flexDirection:'row',flexWrap:'wrap'},countdownItem:{color:'white',display:'flex',alignItems:'center',justifyContent:'center',marginTop:10,paddingTop:5,position:'relative',flexDirection:'column',width:80,height:80},cardText:{color:'white',fontWeight:'bold',fontSize:14}});","map":{"version":3,"names":["React","moment","Svg","Path","Countdown","state","seconds","undefined","days","hours","minutes","interval","setInterval","props","timeTillDate","timeFormat","then","locale","now","countdown","format","setState","clearInterval","secondsRadius","mapNumber","minutesRadius","hoursRadius","daysRadius","styles","countdownWrapper","countdownItem","cardText","Component","SVGCircle","radius","countdownSvg","describeArc","polarToCartesian","centerX","centerY","angleInDegrees","angleInRadians","Math","PI","x","cos","y","sin","startAngle","endAngle","start","end","largeArcFlag","d","join","number","in_min","in_max","out_min","out_max","StyleSheet","create","marginBottom","width","height","position","flex","alignItems","justifyContent","flexDirection","flexWrap","color","display","marginTop","paddingTop","fontWeight","fontSize"],"sources":["/Users/mestrada/Documents/GitHub/ourglass-app/src/components/Countdown.js"],"sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport { View, Text, StyleSheet } from 'react-native'\nimport Svg, {\n    Path,\n  } from 'react-native-svg';\n\nclass Countdown extends React.Component {\n \n    state = {\n        seconds: undefined,\n        days: undefined,\n        hours: undefined,\n        minutes: undefined,\n    }\n    \n    componentDidMount() {\n        this.interval = setInterval(() => {\n            const { timeTillDate, timeFormat } = this.props;\n            const then = moment(timeTillDate, timeFormat);\n            moment.locale('en')\n            const now = moment();\n            const countdown = moment(then - now);\n            const seconds = countdown.format('ss')\n            const minutes = countdown.format('mm')\n            const hours = countdown.format('HH')\n            const days = countdown.format('D')\n            this.setState({ days, hours, minutes, seconds }); \n        }, 1000)\n    }\n\n    componentWillUnmount() {\n        if (this.interval) {\n        clearInterval(this.interval)\n        }\n    }\n\n    render() {\n        const { seconds, days, hours, minutes } = this.state;\n        \n        const secondsRadius = mapNumber(seconds, 60, 0, 0, 360);\n        const minutesRadius = mapNumber(minutes, 60, 0, 0, 360);\n        const hoursRadius = mapNumber(hours, 24, 0, 0, 360);\n        const daysRadius = mapNumber(days, 31, 0, 0, 360);\n\n        if (!seconds) {\n            return null;\n        }\n        if (!days) {\n            return null;\n        }\n        \n        return (\n           \n                <View style={styles.countdownWrapper}>\n                    {days && (\n                        <View style={styles.countdownItem}>\n                            <SVGCircle radius={daysRadius} />\n                            <Text style={styles.cardText}>{days}d</Text>\n                        </View>\n                    )}\n                    {hours && (\n                         <View style={styles.countdownItem}>\n                            <SVGCircle radius={hoursRadius} />\n                            <Text style={styles.cardText}>{hours}h</Text>\n                        </View>\n                    )}\n                    {minutes && (\n                         <View style={styles.countdownItem}>\n                            <SVGCircle radius={minutesRadius} />\n                        <Text style={styles.cardText}>{minutes}m</Text>\n                        </View>\n                    )}\n                    {seconds && (\n                         <View style={styles.countdownItem}>\n                            <SVGCircle radius={secondsRadius} />\n                            <Text style={styles.cardText}>{seconds}s</Text>\n                        </View>\n                    )}\n                </View>\n               \n        )\n    }\n}\n\nexport default Countdown\n\nconst SVGCircle = ({ radius }) => (\n    <Svg style={styles.countdownSvg}>\n        <Path\n            fill=\"none\"\n            stroke=\"white\"\n            strokeWidth=\"4\"\n            d={describeArc(50, 50, 28, 0, radius)}\n        />\n    </Svg>\n);\n\nfunction polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n    var angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0;\n    \n    return {\n        x: centerX + radius * Math.cos(angleInRadians),\n        y: centerY + radius * Math.sin(angleInRadians)\n    };\n}\n\nfunction describeArc(x, y, radius, startAngle, endAngle) {\n    var start = polarToCartesian(x, y, radius, endAngle);\n    var end = polarToCartesian(x, y, radius, startAngle);\n    var largeArcFlag = endAngle - startAngle <= 180 ? '0' : '1';\n    var d = [\n        'M',\n        start.x,\n        start.y,\n        'A',\n        radius,\n        radius,\n        0,\n        largeArcFlag,\n        0,\n        end.x,\n        end.y\n    ].join(' ');\n    \n    return d;\n}\n\nfunction mapNumber(number, in_min, in_max, out_min, out_max) {\n    return (\n        ((number - in_min) * (out_max - out_min)) / (in_max - in_min) + out_min\n    );\n}\n\nconst styles = StyleSheet.create({\n    countdownSvg: {\n        marginBottom: 10,\n        width: 100,\n        height: 100,\n        position: 'absolute',\n    },\n    countdownWrapper: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'around',\n        flexDirection:'row',\n        flexWrap:'wrap',\n    },\n    countdownItem: {\n        color: 'white',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 10,\n        paddingTop: 5,\n        position: 'relative',\n        flexDirection: 'column',\n        width: 80,\n        height: 80,\n    },\n    cardText: {\n        color: 'white',\n        fontWeight: 'bold',\n        fontSize: 14\n    }\n  });\n  "],"mappings":"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"},"metadata":{},"sourceType":"module"}