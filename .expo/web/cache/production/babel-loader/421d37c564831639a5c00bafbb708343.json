{"ast":null,"code":"import{ANDROID_DISPLAY,ANDROID_MODE,MIN_MS}from\"./constants\";import pickers from\"./picker.android\";import{sharedPropsValidation}from\"./utils\";import invariant from'invariant';export function getOpenPicker(_ref){var mode=_ref.mode,value=_ref.value,display=_ref.display,is24Hour=_ref.is24Hour,minimumDate=_ref.minimumDate,maximumDate=_ref.maximumDate,neutralButtonLabel=_ref.neutralButtonLabel,minuteInterval=_ref.minuteInterval,timeZoneOffsetInMinutes=_ref.timeZoneOffsetInMinutes;switch(mode){case ANDROID_MODE.time:return function(){return pickers[mode].open({value:value,display:display,minuteInterval:minuteInterval,is24Hour:is24Hour,neutralButtonLabel:neutralButtonLabel,timeZoneOffsetInMinutes:timeZoneOffsetInMinutes});};default:return function(){return pickers[ANDROID_MODE.date].open({value:value,display:display,minimumDate:minimumDate,maximumDate:maximumDate,neutralButtonLabel:neutralButtonLabel,timeZoneOffsetInMinutes:timeZoneOffsetInMinutes});};}}export function timeZoneOffsetDateSetter(date,timeZoneOffsetInMinutes){if(typeof timeZoneOffsetInMinutes==='number'){var offset=date.getTimezoneOffset()+timeZoneOffsetInMinutes;var shiftedDate=new Date(date.getTime()-offset*MIN_MS);return shiftedDate;}return date;}export function validateAndroidProps(props){sharedPropsValidation({value:props==null?void 0:props.value});var mode=props.mode,display=props.display;invariant(!(display===ANDROID_DISPLAY.calendar&&mode===ANDROID_MODE.time)&&!(display===ANDROID_DISPLAY.clock&&mode===ANDROID_MODE.date),\"display: \"+display+\" and mode: \"+mode+\" cannot be used together.\");}","map":{"version":3,"names":["ANDROID_DISPLAY","ANDROID_MODE","MIN_MS","pickers","sharedPropsValidation","invariant","getOpenPicker","mode","value","display","is24Hour","minimumDate","maximumDate","neutralButtonLabel","minuteInterval","timeZoneOffsetInMinutes","time","open","date","timeZoneOffsetDateSetter","offset","getTimezoneOffset","shiftedDate","Date","getTime","validateAndroidProps","props","calendar","clock"],"sources":["/Users/mestrada/Documents/GitHub/ourglass-app/node_modules/@react-native-community/datetimepicker/src/androidUtils.js"],"sourcesContent":["/**\n * @format\n * @flow strict-local\n */\nimport {ANDROID_DISPLAY, ANDROID_MODE, MIN_MS} from './constants';\nimport pickers from './picker.android';\nimport type {AndroidNativeProps, DateTimePickerResult} from './types';\nimport {sharedPropsValidation} from './utils';\nimport invariant from 'invariant';\ntype PresentPickerCallback = () => Promise<DateTimePickerResult>;\n\ntype Timestamp = number;\n\ntype Params = {\n  value: Timestamp,\n  mode: AndroidNativeProps['mode'],\n  display: AndroidNativeProps['display'],\n  is24Hour: AndroidNativeProps['is24Hour'],\n  minimumDate: AndroidNativeProps['minimumDate'],\n  maximumDate: AndroidNativeProps['maximumDate'],\n  neutralButtonLabel: AndroidNativeProps['neutralButtonLabel'],\n  minuteInterval: AndroidNativeProps['minuteInterval'],\n  timeZoneOffsetInMinutes: AndroidNativeProps['timeZoneOffsetInMinutes'],\n};\nexport function getOpenPicker({\n  mode,\n  value,\n  display,\n  is24Hour,\n  minimumDate,\n  maximumDate,\n  neutralButtonLabel,\n  minuteInterval,\n  timeZoneOffsetInMinutes,\n}: Params): PresentPickerCallback {\n  switch (mode) {\n    case ANDROID_MODE.time:\n      return () =>\n        // $FlowFixMe - `AbstractComponent` [1] is not an instance type.\n        pickers[mode].open({\n          value,\n          display,\n          minuteInterval,\n          is24Hour,\n          neutralButtonLabel,\n          timeZoneOffsetInMinutes,\n        });\n    default:\n      return () =>\n        // $FlowFixMe - `AbstractComponent` [1] is not an instance type.\n        pickers[ANDROID_MODE.date].open({\n          value,\n          display,\n          minimumDate,\n          maximumDate,\n          neutralButtonLabel,\n          timeZoneOffsetInMinutes,\n        });\n  }\n}\n\nexport function timeZoneOffsetDateSetter(\n  date: Date,\n  timeZoneOffsetInMinutes: ?number,\n): Date {\n  if (typeof timeZoneOffsetInMinutes === 'number') {\n    // FIXME this causes a bug. repro: set tz offset to zero, and then keep opening and closing the calendar picker\n    // https://github.com/react-native-datetimepicker/datetimepicker/issues/528\n    const offset = date.getTimezoneOffset() + timeZoneOffsetInMinutes;\n    const shiftedDate = new Date(date.getTime() - offset * MIN_MS);\n    return shiftedDate;\n  }\n  return date;\n}\n\nexport function validateAndroidProps(props: AndroidNativeProps) {\n  sharedPropsValidation({value: props?.value});\n  const {mode, display} = props;\n  invariant(\n    !(display === ANDROID_DISPLAY.calendar && mode === ANDROID_MODE.time) &&\n      !(display === ANDROID_DISPLAY.clock && mode === ANDROID_MODE.date),\n    `display: ${display} and mode: ${mode} cannot be used together.`,\n  );\n}\n"],"mappings":"AAIA,OAAQA,eAAR,CAAyBC,YAAzB,CAAuCC,MAAvC,mBACA,MAAOC,QAAP,wBAEA,OAAQC,qBAAR,eACA,MAAOC,UAAP,KAAsB,WAAtB,CAgBA,MAAO,SAASC,cAAT,MAU2B,IAThCC,KASgC,MAThCA,IASgC,CARhCC,KAQgC,MARhCA,KAQgC,CAPhCC,OAOgC,MAPhCA,OAOgC,CANhCC,QAMgC,MANhCA,QAMgC,CALhCC,WAKgC,MALhCA,WAKgC,CAJhCC,WAIgC,MAJhCA,WAIgC,CAHhCC,kBAGgC,MAHhCA,kBAGgC,CAFhCC,cAEgC,MAFhCA,cAEgC,CADhCC,uBACgC,MADhCA,uBACgC,CAChC,OAAQR,IAAR,EACE,IAAKN,aAAY,CAACe,IAAlB,CACE,MAAO,kBAELb,QAAO,CAACI,IAAD,CAAP,CAAcU,IAAd,CAAmB,CACjBT,KAAK,CAALA,KADiB,CAEjBC,OAAO,CAAPA,OAFiB,CAGjBK,cAAc,CAAdA,cAHiB,CAIjBJ,QAAQ,CAARA,QAJiB,CAKjBG,kBAAkB,CAAlBA,kBALiB,CAMjBE,uBAAuB,CAAvBA,uBANiB,CAAnB,CAFK,EAAP,CAUF,QACE,MAAO,kBAELZ,QAAO,CAACF,YAAY,CAACiB,IAAd,CAAP,CAA2BD,IAA3B,CAAgC,CAC9BT,KAAK,CAALA,KAD8B,CAE9BC,OAAO,CAAPA,OAF8B,CAG9BE,WAAW,CAAXA,WAH8B,CAI9BC,WAAW,CAAXA,WAJ8B,CAK9BC,kBAAkB,CAAlBA,kBAL8B,CAM9BE,uBAAuB,CAAvBA,uBAN8B,CAAhC,CAFK,EAAP,CAbJ,CAwBD,CAED,MAAO,SAASI,yBAAT,CACLD,IADK,CAELH,uBAFK,CAGC,CACN,GAAI,MAAOA,wBAAP,GAAmC,QAAvC,CAAiD,CAG/C,GAAMK,OAAM,CAAGF,IAAI,CAACG,iBAAL,GAA2BN,uBAA1C,CACA,GAAMO,YAAW,CAAG,GAAIC,KAAJ,CAASL,IAAI,CAACM,OAAL,GAAiBJ,MAAM,CAAGlB,MAAnC,CAApB,CACA,MAAOoB,YAAP,CACD,CACD,MAAOJ,KAAP,CACD,CAED,MAAO,SAASO,qBAAT,CAA8BC,KAA9B,CAAyD,CAC9DtB,qBAAqB,CAAC,CAACI,KAAK,CAAEkB,KAAF,cAAEA,KAAK,CAAElB,KAAf,CAAD,CAArB,CACA,GAAOD,KAAP,CAAwBmB,KAAxB,CAAOnB,IAAP,CAAaE,OAAb,CAAwBiB,KAAxB,CAAajB,OAAb,CACAJ,SAAS,CACP,EAAEI,OAAO,GAAKT,eAAe,CAAC2B,QAA5B,EAAwCpB,IAAI,GAAKN,YAAY,CAACe,IAAhE,GACE,EAAEP,OAAO,GAAKT,eAAe,CAAC4B,KAA5B,EAAqCrB,IAAI,GAAKN,YAAY,CAACiB,IAA7D,CAFK,aAGKT,OAHL,eAG0BF,IAH1B,6BAAT,CAKD"},"metadata":{},"sourceType":"module"}