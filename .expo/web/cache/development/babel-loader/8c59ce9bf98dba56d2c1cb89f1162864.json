{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport moment from 'moment';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Svg, { Path } from 'react-native-svg';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Countdown = function (_React$Component) {\n  _inherits(Countdown, _React$Component);\n\n  var _super = _createSuper(Countdown);\n\n  function Countdown() {\n    var _this;\n\n    _classCallCheck(this, Countdown);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      seconds: undefined,\n      days: undefined,\n      hours: undefined,\n      minutes: undefined\n    };\n    return _this;\n  }\n\n  _createClass(Countdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.interval = setInterval(function () {\n        var _this2$props = _this2.props,\n            timeTillDate = _this2$props.timeTillDate,\n            timeFormat = _this2$props.timeFormat;\n        var then = moment(timeTillDate, timeFormat);\n        moment.locale('en');\n        var now = moment();\n        var countdown = moment(then - now);\n        var seconds = countdown.format('ss');\n        var minutes = countdown.format('mm');\n        var hours = countdown.format('HH');\n        var days = countdown.format('D');\n\n        _this2.setState({\n          days: days,\n          hours: hours,\n          minutes: minutes,\n          seconds: seconds\n        });\n      }, 1000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.interval) {\n        clearInterval(this.interval);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          seconds = _this$state.seconds,\n          days = _this$state.days,\n          hours = _this$state.hours,\n          minutes = _this$state.minutes;\n      var secondsRadius = mapNumber(seconds, 60, 0, 0, 360);\n      var minutesRadius = mapNumber(minutes, 60, 0, 0, 360);\n      var hoursRadius = mapNumber(hours, 24, 0, 0, 360);\n      var daysRadius = mapNumber(days, 31, 0, 0, 360);\n\n      if (!seconds) {\n        return null;\n      }\n\n      if (!days) {\n        return null;\n      }\n\n      return _jsxs(View, {\n        style: styles.countdownWrapper,\n        children: [days && _jsxs(View, {\n          style: styles.countdownItem,\n          children: [_jsx(SVGCircle, {\n            radius: daysRadius\n          }), _jsxs(Text, {\n            style: styles.cardText,\n            children: [days, \"d\"]\n          })]\n        }), hours && _jsxs(View, {\n          style: styles.countdownItem,\n          children: [_jsx(SVGCircle, {\n            radius: hoursRadius\n          }), _jsxs(Text, {\n            style: styles.cardText,\n            children: [hours, \"h\"]\n          })]\n        }), minutes && _jsxs(View, {\n          style: styles.countdownItem,\n          children: [_jsx(SVGCircle, {\n            radius: minutesRadius\n          }), _jsxs(Text, {\n            style: styles.cardText,\n            children: [minutes, \"m\"]\n          })]\n        }), seconds && _jsxs(View, {\n          style: styles.countdownItem,\n          children: [_jsx(SVGCircle, {\n            radius: secondsRadius\n          }), _jsxs(Text, {\n            style: styles.cardText,\n            children: [seconds, \"s\"]\n          })]\n        })]\n      });\n    }\n  }]);\n\n  return Countdown;\n}(React.Component);\n\nexport default Countdown;\n\nvar SVGCircle = function SVGCircle(_ref) {\n  var radius = _ref.radius;\n  return _jsx(Svg, {\n    style: styles.countdownSvg,\n    children: _jsx(Path, {\n      fill: \"none\",\n      stroke: \"white\",\n      strokeWidth: \"4\",\n      d: describeArc(50, 50, 28, 0, radius)\n    })\n  });\n};\n\nfunction polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n  var angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0;\n  return {\n    x: centerX + radius * Math.cos(angleInRadians),\n    y: centerY + radius * Math.sin(angleInRadians)\n  };\n}\n\nfunction describeArc(x, y, radius, startAngle, endAngle) {\n  var start = polarToCartesian(x, y, radius, endAngle);\n  var end = polarToCartesian(x, y, radius, startAngle);\n  var largeArcFlag = endAngle - startAngle <= 180 ? '0' : '1';\n  var d = ['M', start.x, start.y, 'A', radius, radius, 0, largeArcFlag, 0, end.x, end.y].join(' ');\n  return d;\n}\n\nfunction mapNumber(number, in_min, in_max, out_min, out_max) {\n  return (number - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nvar styles = StyleSheet.create({\n  countdownSvg: {\n    marginBottom: 10,\n    width: 100,\n    height: 100,\n    position: 'absolute'\n  },\n  countdownWrapper: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'around',\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  },\n  countdownItem: {\n    color: 'white',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: 10,\n    paddingTop: 5,\n    position: 'relative',\n    flexDirection: 'column',\n    width: 80,\n    height: 80\n  },\n  cardText: {\n    color: 'white',\n    fontWeight: 'bold',\n    fontSize: 14\n  }\n});","map":{"version":3,"names":["React","moment","Svg","Path","Countdown","state","seconds","undefined","days","hours","minutes","interval","setInterval","props","timeTillDate","timeFormat","then","locale","now","countdown","format","setState","clearInterval","secondsRadius","mapNumber","minutesRadius","hoursRadius","daysRadius","styles","countdownWrapper","countdownItem","cardText","Component","SVGCircle","radius","countdownSvg","describeArc","polarToCartesian","centerX","centerY","angleInDegrees","angleInRadians","Math","PI","x","cos","y","sin","startAngle","endAngle","start","end","largeArcFlag","d","join","number","in_min","in_max","out_min","out_max","StyleSheet","create","marginBottom","width","height","position","flex","alignItems","justifyContent","flexDirection","flexWrap","color","display","marginTop","paddingTop","fontWeight","fontSize"],"sources":["/Users/mestrada/Documents/GitHub/ourglass/src/components/Countdown.js"],"sourcesContent":["import React from 'react';\nimport moment from 'moment';\nimport { View, Text, StyleSheet } from 'react-native'\nimport Svg, {\n    Path,\n  } from 'react-native-svg';\n\nclass Countdown extends React.Component {\n \n    state = {\n        seconds: undefined,\n        days: undefined,\n        hours: undefined,\n        minutes: undefined,\n    }\n    \n    componentDidMount() {\n        this.interval = setInterval(() => {\n            const { timeTillDate, timeFormat } = this.props;\n            const then = moment(timeTillDate, timeFormat);\n            moment.locale('en')\n            const now = moment();\n            const countdown = moment(then - now);\n            const seconds = countdown.format('ss')\n            const minutes = countdown.format('mm')\n            const hours = countdown.format('HH')\n            const days = countdown.format('D')\n            this.setState({ days, hours, minutes, seconds }); \n        }, 1000)\n    }\n\n    componentWillUnmount() {\n        if (this.interval) {\n        clearInterval(this.interval)\n        }\n    }\n\n    render() {\n        const { seconds, days, hours, minutes } = this.state;\n        \n        const secondsRadius = mapNumber(seconds, 60, 0, 0, 360);\n        const minutesRadius = mapNumber(minutes, 60, 0, 0, 360);\n        const hoursRadius = mapNumber(hours, 24, 0, 0, 360);\n        const daysRadius = mapNumber(days, 31, 0, 0, 360);\n\n        if (!seconds) {\n            return null;\n        }\n        if (!days) {\n            return null;\n        }\n        \n        return (\n           \n                <View style={styles.countdownWrapper}>\n                    {days && (\n                        <View style={styles.countdownItem}>\n                            <SVGCircle radius={daysRadius} />\n                            <Text style={styles.cardText}>{days}d</Text>\n                        </View>\n                    )}\n                    {hours && (\n                         <View style={styles.countdownItem}>\n                            <SVGCircle radius={hoursRadius} />\n                            <Text style={styles.cardText}>{hours}h</Text>\n                        </View>\n                    )}\n                    {minutes && (\n                         <View style={styles.countdownItem}>\n                            <SVGCircle radius={minutesRadius} />\n                        <Text style={styles.cardText}>{minutes}m</Text>\n                        </View>\n                    )}\n                    {seconds && (\n                         <View style={styles.countdownItem}>\n                            <SVGCircle radius={secondsRadius} />\n                            <Text style={styles.cardText}>{seconds}s</Text>\n                        </View>\n                    )}\n                </View>\n               \n        )\n    }\n}\n\nexport default Countdown\n\nconst SVGCircle = ({ radius }) => (\n    <Svg style={styles.countdownSvg}>\n        <Path\n            fill=\"none\"\n            stroke=\"white\"\n            strokeWidth=\"4\"\n            d={describeArc(50, 50, 28, 0, radius)}\n        />\n    </Svg>\n);\n\nfunction polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n    var angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0;\n    \n    return {\n        x: centerX + radius * Math.cos(angleInRadians),\n        y: centerY + radius * Math.sin(angleInRadians)\n    };\n}\n\nfunction describeArc(x, y, radius, startAngle, endAngle) {\n    var start = polarToCartesian(x, y, radius, endAngle);\n    var end = polarToCartesian(x, y, radius, startAngle);\n    var largeArcFlag = endAngle - startAngle <= 180 ? '0' : '1';\n    var d = [\n        'M',\n        start.x,\n        start.y,\n        'A',\n        radius,\n        radius,\n        0,\n        largeArcFlag,\n        0,\n        end.x,\n        end.y\n    ].join(' ');\n    \n    return d;\n}\n\nfunction mapNumber(number, in_min, in_max, out_min, out_max) {\n    return (\n        ((number - in_min) * (out_max - out_min)) / (in_max - in_min) + out_min\n    );\n}\n\nconst styles = StyleSheet.create({\n    countdownSvg: {\n        marginBottom: 10,\n        width: 100,\n        height: 100,\n        position: 'absolute',\n    },\n    countdownWrapper: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'around',\n        flexDirection:'row',\n        flexWrap:'wrap',\n    },\n    countdownItem: {\n        color: 'white',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 10,\n        paddingTop: 5,\n        position: 'relative',\n        flexDirection: 'column',\n        width: 80,\n        height: 80,\n    },\n    cardText: {\n        color: 'white',\n        fontWeight: 'bold',\n        fontSize: 14\n    }\n  });\n  "],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;;;AAEA,OAAOC,GAAP,IACIC,IADJ,QAES,kBAFT;;;;IAIMC,S;;;;;;;;;;;;;;;UAEFC,K,GAAQ;MACJC,OAAO,EAAEC,SADL;MAEJC,IAAI,EAAED,SAFF;MAGJE,KAAK,EAAEF,SAHH;MAIJG,OAAO,EAAEH;IAJL,C;;;;;;WAOR,6BAAoB;MAAA;;MAChB,KAAKI,QAAL,GAAgBC,WAAW,CAAC,YAAM;QAC9B,mBAAqC,MAAI,CAACC,KAA1C;QAAA,IAAQC,YAAR,gBAAQA,YAAR;QAAA,IAAsBC,UAAtB,gBAAsBA,UAAtB;QACA,IAAMC,IAAI,GAAGf,MAAM,CAACa,YAAD,EAAeC,UAAf,CAAnB;QACAd,MAAM,CAACgB,MAAP,CAAc,IAAd;QACA,IAAMC,GAAG,GAAGjB,MAAM,EAAlB;QACA,IAAMkB,SAAS,GAAGlB,MAAM,CAACe,IAAI,GAAGE,GAAR,CAAxB;QACA,IAAMZ,OAAO,GAAGa,SAAS,CAACC,MAAV,CAAiB,IAAjB,CAAhB;QACA,IAAMV,OAAO,GAAGS,SAAS,CAACC,MAAV,CAAiB,IAAjB,CAAhB;QACA,IAAMX,KAAK,GAAGU,SAAS,CAACC,MAAV,CAAiB,IAAjB,CAAd;QACA,IAAMZ,IAAI,GAAGW,SAAS,CAACC,MAAV,CAAiB,GAAjB,CAAb;;QACA,MAAI,CAACC,QAAL,CAAc;UAAEb,IAAI,EAAJA,IAAF;UAAQC,KAAK,EAALA,KAAR;UAAeC,OAAO,EAAPA,OAAf;UAAwBJ,OAAO,EAAPA;QAAxB,CAAd;MACH,CAX0B,EAWxB,IAXwB,CAA3B;IAYH;;;WAED,gCAAuB;MACnB,IAAI,KAAKK,QAAT,EAAmB;QACnBW,aAAa,CAAC,KAAKX,QAAN,CAAb;MACC;IACJ;;;WAED,kBAAS;MACL,kBAA0C,KAAKN,KAA/C;MAAA,IAAQC,OAAR,eAAQA,OAAR;MAAA,IAAiBE,IAAjB,eAAiBA,IAAjB;MAAA,IAAuBC,KAAvB,eAAuBA,KAAvB;MAAA,IAA8BC,OAA9B,eAA8BA,OAA9B;MAEA,IAAMa,aAAa,GAAGC,SAAS,CAAClB,OAAD,EAAU,EAAV,EAAc,CAAd,EAAiB,CAAjB,EAAoB,GAApB,CAA/B;MACA,IAAMmB,aAAa,GAAGD,SAAS,CAACd,OAAD,EAAU,EAAV,EAAc,CAAd,EAAiB,CAAjB,EAAoB,GAApB,CAA/B;MACA,IAAMgB,WAAW,GAAGF,SAAS,CAACf,KAAD,EAAQ,EAAR,EAAY,CAAZ,EAAe,CAAf,EAAkB,GAAlB,CAA7B;MACA,IAAMkB,UAAU,GAAGH,SAAS,CAAChB,IAAD,EAAO,EAAP,EAAW,CAAX,EAAc,CAAd,EAAiB,GAAjB,CAA5B;;MAEA,IAAI,CAACF,OAAL,EAAc;QACV,OAAO,IAAP;MACH;;MACD,IAAI,CAACE,IAAL,EAAW;QACP,OAAO,IAAP;MACH;;MAED,OAEQ,MAAC,IAAD;QAAM,KAAK,EAAEoB,MAAM,CAACC,gBAApB;QAAA,WACKrB,IAAI,IACD,MAAC,IAAD;UAAM,KAAK,EAAEoB,MAAM,CAACE,aAApB;UAAA,WACI,KAAC,SAAD;YAAW,MAAM,EAAEH;UAAnB,EADJ,EAEI,MAAC,IAAD;YAAM,KAAK,EAAEC,MAAM,CAACG,QAApB;YAAA,WAA+BvB,IAA/B;UAAA,EAFJ;QAAA,EAFR,EAOKC,KAAK,IACD,MAAC,IAAD;UAAM,KAAK,EAAEmB,MAAM,CAACE,aAApB;UAAA,WACG,KAAC,SAAD;YAAW,MAAM,EAAEJ;UAAnB,EADH,EAEG,MAAC,IAAD;YAAM,KAAK,EAAEE,MAAM,CAACG,QAApB;YAAA,WAA+BtB,KAA/B;UAAA,EAFH;QAAA,EART,EAaKC,OAAO,IACH,MAAC,IAAD;UAAM,KAAK,EAAEkB,MAAM,CAACE,aAApB;UAAA,WACG,KAAC,SAAD;YAAW,MAAM,EAAEL;UAAnB,EADH,EAED,MAAC,IAAD;YAAM,KAAK,EAAEG,MAAM,CAACG,QAApB;YAAA,WAA+BrB,OAA/B;UAAA,EAFC;QAAA,EAdT,EAmBKJ,OAAO,IACH,MAAC,IAAD;UAAM,KAAK,EAAEsB,MAAM,CAACE,aAApB;UAAA,WACG,KAAC,SAAD;YAAW,MAAM,EAAEP;UAAnB,EADH,EAEG,MAAC,IAAD;YAAM,KAAK,EAAEK,MAAM,CAACG,QAApB;YAAA,WAA+BzB,OAA/B;UAAA,EAFH;QAAA,EApBT;MAAA,EAFR;IA8BH;;;;EA3EmBN,KAAK,CAACgC,S;;AA8E9B,eAAe5B,SAAf;;AAEA,IAAM6B,SAAS,GAAG,SAAZA,SAAY;EAAA,IAAGC,MAAH,QAAGA,MAAH;EAAA,OACd,KAAC,GAAD;IAAK,KAAK,EAAEN,MAAM,CAACO,YAAnB;IAAA,UACI,KAAC,IAAD;MACI,IAAI,EAAC,MADT;MAEI,MAAM,EAAC,OAFX;MAGI,WAAW,EAAC,GAHhB;MAII,CAAC,EAAEC,WAAW,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgBF,MAAhB;IAJlB;EADJ,EADc;AAAA,CAAlB;;AAWA,SAASG,gBAAT,CAA0BC,OAA1B,EAAmCC,OAAnC,EAA4CL,MAA5C,EAAoDM,cAApD,EAAoE;EAChE,IAAIC,cAAc,GAAI,CAACD,cAAc,GAAG,EAAlB,IAAwBE,IAAI,CAACC,EAA9B,GAAoC,KAAzD;EAEA,OAAO;IACHC,CAAC,EAAEN,OAAO,GAAGJ,MAAM,GAAGQ,IAAI,CAACG,GAAL,CAASJ,cAAT,CADnB;IAEHK,CAAC,EAAEP,OAAO,GAAGL,MAAM,GAAGQ,IAAI,CAACK,GAAL,CAASN,cAAT;EAFnB,CAAP;AAIH;;AAED,SAASL,WAAT,CAAqBQ,CAArB,EAAwBE,CAAxB,EAA2BZ,MAA3B,EAAmCc,UAAnC,EAA+CC,QAA/C,EAAyD;EACrD,IAAIC,KAAK,GAAGb,gBAAgB,CAACO,CAAD,EAAIE,CAAJ,EAAOZ,MAAP,EAAee,QAAf,CAA5B;EACA,IAAIE,GAAG,GAAGd,gBAAgB,CAACO,CAAD,EAAIE,CAAJ,EAAOZ,MAAP,EAAec,UAAf,CAA1B;EACA,IAAII,YAAY,GAAGH,QAAQ,GAAGD,UAAX,IAAyB,GAAzB,GAA+B,GAA/B,GAAqC,GAAxD;EACA,IAAIK,CAAC,GAAG,CACJ,GADI,EAEJH,KAAK,CAACN,CAFF,EAGJM,KAAK,CAACJ,CAHF,EAIJ,GAJI,EAKJZ,MALI,EAMJA,MANI,EAOJ,CAPI,EAQJkB,YARI,EASJ,CATI,EAUJD,GAAG,CAACP,CAVA,EAWJO,GAAG,CAACL,CAXA,EAYNQ,IAZM,CAYD,GAZC,CAAR;EAcA,OAAOD,CAAP;AACH;;AAED,SAAS7B,SAAT,CAAmB+B,MAAnB,EAA2BC,MAA3B,EAAmCC,MAAnC,EAA2CC,OAA3C,EAAoDC,OAApD,EAA6D;EACzD,OACK,CAACJ,MAAM,GAAGC,MAAV,KAAqBG,OAAO,GAAGD,OAA/B,CAAD,IAA6CD,MAAM,GAAGD,MAAtD,IAAgEE,OADpE;AAGH;;AAED,IAAM9B,MAAM,GAAGgC,UAAU,CAACC,MAAX,CAAkB;EAC7B1B,YAAY,EAAE;IACV2B,YAAY,EAAE,EADJ;IAEVC,KAAK,EAAE,GAFG;IAGVC,MAAM,EAAE,GAHE;IAIVC,QAAQ,EAAE;EAJA,CADe;EAO7BpC,gBAAgB,EAAE;IACdqC,IAAI,EAAE,CADQ;IAEdC,UAAU,EAAE,QAFE;IAGdC,cAAc,EAAE,QAHF;IAIdC,aAAa,EAAC,KAJA;IAKdC,QAAQ,EAAC;EALK,CAPW;EAc7BxC,aAAa,EAAE;IACXyC,KAAK,EAAE,OADI;IAEXC,OAAO,EAAE,MAFE;IAGXL,UAAU,EAAE,QAHD;IAIXC,cAAc,EAAE,QAJL;IAKXK,SAAS,EAAE,EALA;IAMXC,UAAU,EAAE,CAND;IAOXT,QAAQ,EAAE,UAPC;IAQXI,aAAa,EAAE,QARJ;IASXN,KAAK,EAAE,EATI;IAUXC,MAAM,EAAE;EAVG,CAdc;EA0B7BjC,QAAQ,EAAE;IACNwC,KAAK,EAAE,OADD;IAENI,UAAU,EAAE,MAFN;IAGNC,QAAQ,EAAE;EAHJ;AA1BmB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}